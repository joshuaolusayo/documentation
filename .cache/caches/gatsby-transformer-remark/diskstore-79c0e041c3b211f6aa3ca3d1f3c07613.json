{"expireTime":9007200851888159000,"key":"transformer-remark-markdown-ast-7fd83c340c7d851999db2262b020d0c9-gatsby-remark-responsive-iframegatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-header-custom-idsgatsby-remark-code-replsgatsby-remark-embed-snippetgatsby-remark-use-jsxgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Portals provide a first-class way to render children into a DOM node that exists outside the DOM hierarchy of the parent component.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":132,"offset":132},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":132,"offset":132},"indent":[]}},{"type":"html","lang":"jsx","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\">ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">,</span> container<span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":4,"column":1,"offset":134},"end":{"line":6,"column":4,"offset":183},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The first argument (","position":{"start":{"line":8,"column":1,"offset":185},"end":{"line":8,"column":21,"offset":205},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">child</code>","position":{"start":{"line":8,"column":21,"offset":205},"end":{"line":8,"column":28,"offset":212},"indent":[]}},{"type":"text","value":") is any ","position":{"start":{"line":8,"column":28,"offset":212},"end":{"line":8,"column":37,"offset":221},"indent":[]}},{"type":"link","title":null,"url":"/docs/react-component.html#render","children":[{"type":"text","value":"renderable React child","position":{"start":{"line":8,"column":38,"offset":222},"end":{"line":8,"column":60,"offset":244},"indent":[]}}],"position":{"start":{"line":8,"column":37,"offset":221},"end":{"line":8,"column":96,"offset":280},"indent":[]}},{"type":"text","value":", such as an element, string, or fragment. The second argument (","position":{"start":{"line":8,"column":96,"offset":280},"end":{"line":8,"column":160,"offset":344},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">container</code>","position":{"start":{"line":8,"column":160,"offset":344},"end":{"line":8,"column":171,"offset":355},"indent":[]}},{"type":"text","value":") is a DOM element.","position":{"start":{"line":8,"column":171,"offset":355},"end":{"line":8,"column":190,"offset":374},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":185},"end":{"line":8,"column":190,"offset":374},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#usage","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Usage ","position":{"start":{"line":10,"column":4,"offset":379},"end":{"line":10,"column":18,"offset":393},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":376},"end":{"line":10,"column":18,"offset":393},"indent":[]},"data":{"id":"usage","htmlAttributes":{"id":"usage"},"hProperties":{"id":"usage"}}},{"type":"paragraph","children":[{"type":"text","value":"Normally, when you return an element from a component’s render method, it’s mounted into the DOM as a child of the nearest parent node:","position":{"start":{"line":12,"column":1,"offset":395},"end":{"line":12,"column":136,"offset":530},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":395},"end":{"line":12,"column":136,"offset":530},"indent":[]}},{"type":"html","lang":"jsx{4,6}","meta":null,"value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// React mounts a new div and renders the children into it</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">      </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></span>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":14,"column":1,"offset":532},"end":{"line":23,"column":4,"offset":685},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"However, sometimes it’s useful to insert a child into a different location in the DOM:","position":{"start":{"line":25,"column":1,"offset":687},"end":{"line":25,"column":87,"offset":773},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":687},"end":{"line":25,"column":87,"offset":773},"indent":[]}},{"type":"html","lang":"jsx{6}","meta":null,"value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// React does *not* create a new div. It renders the children into `domNode`.</span>\n  <span class=\"token comment\">// `domNode` is any valid DOM node, regardless of its location in the DOM.</span>\n  <span class=\"token keyword\">return</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    domNode</span>  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":27,"column":1,"offset":775},"end":{"line":36,"column":4,"offset":1031},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A typical use case for portals is when a parent component has an ","position":{"start":{"line":38,"column":1,"offset":1033},"end":{"line":38,"column":66,"offset":1098},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">overflow: hidden</code>","position":{"start":{"line":38,"column":66,"offset":1098},"end":{"line":38,"column":84,"offset":1116},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":38,"column":84,"offset":1116},"end":{"line":38,"column":88,"offset":1120},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">z-index</code>","position":{"start":{"line":38,"column":88,"offset":1120},"end":{"line":38,"column":97,"offset":1129},"indent":[]}},{"type":"text","value":" style, but you need the child to visually “break out” of its container. For example, dialogs, hovercards, and tooltips.","position":{"start":{"line":38,"column":97,"offset":1129},"end":{"line":38,"column":217,"offset":1249},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1033},"end":{"line":38,"column":217,"offset":1249},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Note:","position":{"start":{"line":40,"column":3,"offset":1253},"end":{"line":40,"column":8,"offset":1258},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1253},"end":{"line":40,"column":8,"offset":1258},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When working with portals, remember that ","position":{"start":{"line":42,"column":3,"offset":1263},"end":{"line":42,"column":44,"offset":1304},"indent":[]}},{"type":"link","title":null,"url":"/docs/accessibility.html#programmatically-managing-focus","children":[{"type":"text","value":"managing keyboard focus","position":{"start":{"line":42,"column":45,"offset":1305},"end":{"line":42,"column":68,"offset":1328},"indent":[]}}],"position":{"start":{"line":42,"column":44,"offset":1304},"end":{"line":42,"column":127,"offset":1387},"indent":[]}},{"type":"text","value":" becomes very important.","position":{"start":{"line":42,"column":127,"offset":1387},"end":{"line":42,"column":151,"offset":1411},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":1263},"end":{"line":42,"column":151,"offset":1411},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For modal dialogs, ensure that everyone can interact with them by following the ","position":{"start":{"line":44,"column":3,"offset":1416},"end":{"line":44,"column":83,"offset":1496},"indent":[]}},{"type":"link","title":null,"url":"https://www.w3.org/TR/wai-aria-practices-1.1/#dialog_modal","children":[{"type":"text","value":"WAI-ARIA Modal Authoring Practices","position":{"start":{"line":44,"column":84,"offset":1497},"end":{"line":44,"column":118,"offset":1531},"indent":[]}}],"position":{"start":{"line":44,"column":83,"offset":1496},"end":{"line":44,"column":179,"offset":1592},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}},{"type":"text","value":".","position":{"start":{"line":44,"column":179,"offset":1592},"end":{"line":44,"column":180,"offset":1593},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":1416},"end":{"line":44,"column":180,"offset":1593},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1251},"end":{"line":44,"column":180,"offset":1593},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://codepen.io/gaearon/pen/yzMaBd","children":[{"type":"strong","children":[{"type":"text","value":"Try it on CodePen","position":{"start":{"line":46,"column":4,"offset":1598},"end":{"line":46,"column":21,"offset":1615},"indent":[]}}],"position":{"start":{"line":46,"column":2,"offset":1596},"end":{"line":46,"column":23,"offset":1617},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1595},"end":{"line":46,"column":63,"offset":1657},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}}],"position":{"start":{"line":46,"column":1,"offset":1595},"end":{"line":46,"column":63,"offset":1657},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#event-bubbling-through-portals","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Event Bubbling Through Portals ","position":{"start":{"line":48,"column":4,"offset":1662},"end":{"line":48,"column":68,"offset":1726},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1659},"end":{"line":48,"column":68,"offset":1726},"indent":[]},"data":{"id":"event-bubbling-through-portals","htmlAttributes":{"id":"event-bubbling-through-portals"},"hProperties":{"id":"event-bubbling-through-portals"}}},{"type":"paragraph","children":[{"type":"text","value":"Even though a portal can be anywhere in the DOM tree, it behaves like a normal React child in every other way. Features like context work exactly the same regardless of whether the child is a portal, as the portal still exists in the ","position":{"start":{"line":50,"column":1,"offset":1728},"end":{"line":50,"column":235,"offset":1962},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"React tree","position":{"start":{"line":50,"column":236,"offset":1963},"end":{"line":50,"column":246,"offset":1973},"indent":[]}}],"position":{"start":{"line":50,"column":235,"offset":1962},"end":{"line":50,"column":247,"offset":1974},"indent":[]}},{"type":"text","value":" regardless of position in the ","position":{"start":{"line":50,"column":247,"offset":1974},"end":{"line":50,"column":278,"offset":2005},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"DOM tree","position":{"start":{"line":50,"column":279,"offset":2006},"end":{"line":50,"column":287,"offset":2014},"indent":[]}}],"position":{"start":{"line":50,"column":278,"offset":2005},"end":{"line":50,"column":288,"offset":2015},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":50,"column":288,"offset":2015},"end":{"line":50,"column":289,"offset":2016},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1728},"end":{"line":50,"column":289,"offset":2016},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This includes event bubbling. An event fired from inside a portal will propagate to ancestors in the containing ","position":{"start":{"line":52,"column":1,"offset":2018},"end":{"line":52,"column":113,"offset":2130},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"React tree","position":{"start":{"line":52,"column":114,"offset":2131},"end":{"line":52,"column":124,"offset":2141},"indent":[]}}],"position":{"start":{"line":52,"column":113,"offset":2130},"end":{"line":52,"column":125,"offset":2142},"indent":[]}},{"type":"text","value":", even if those elements are not ancestors in the ","position":{"start":{"line":52,"column":125,"offset":2142},"end":{"line":52,"column":175,"offset":2192},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"DOM tree","position":{"start":{"line":52,"column":176,"offset":2193},"end":{"line":52,"column":184,"offset":2201},"indent":[]}}],"position":{"start":{"line":52,"column":175,"offset":2192},"end":{"line":52,"column":185,"offset":2202},"indent":[]}},{"type":"text","value":". Assuming the following HTML structure:","position":{"start":{"line":52,"column":185,"offset":2202},"end":{"line":52,"column":225,"offset":2242},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2018},"end":{"line":52,"column":225,"offset":2242},"indent":[]}},{"type":"html","lang":"html","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"gatsby-code-html\"><code class=\"gatsby-code-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal-root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":54,"column":1,"offset":2244},"end":{"line":61,"column":4,"offset":2351},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":63,"column":1,"offset":2353},"end":{"line":63,"column":3,"offset":2355},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">Parent</code>","position":{"start":{"line":63,"column":3,"offset":2355},"end":{"line":63,"column":11,"offset":2363},"indent":[]}},{"type":"text","value":" component in ","position":{"start":{"line":63,"column":11,"offset":2363},"end":{"line":63,"column":25,"offset":2377},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">#app-root</code>","position":{"start":{"line":63,"column":25,"offset":2377},"end":{"line":63,"column":36,"offset":2388},"indent":[]}},{"type":"text","value":" would be able to catch an uncaught, bubbling event from the sibling node ","position":{"start":{"line":63,"column":36,"offset":2388},"end":{"line":63,"column":110,"offset":2462},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">#modal-root</code>","position":{"start":{"line":63,"column":110,"offset":2462},"end":{"line":63,"column":123,"offset":2475},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":63,"column":123,"offset":2475},"end":{"line":63,"column":124,"offset":2476},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":2353},"end":{"line":63,"column":124,"offset":2476},"indent":[]}},{"type":"html","lang":"jsx{28-31,42-49,53,61-63,70-71,74}","meta":null,"value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token comment\">// These two containers are siblings in the DOM</span>\n<span class=\"token keyword\">const</span> appRoot <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> modalRoot <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'modal-root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Modal</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'div'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// The portal element is inserted in the DOM tree after</span>\n    <span class=\"token comment\">// the Modal's children are mounted, meaning that children</span>\n    <span class=\"token comment\">// will be mounted on a detached DOM node. If a child</span>\n    <span class=\"token comment\">// component requires to be attached to the DOM tree</span>\n    <span class=\"token comment\">// immediately when mounted, for example to measure a</span>\n    <span class=\"token comment\">// DOM node, or uses 'autoFocus' in a descendant, add</span>\n    <span class=\"token comment\">// state to Modal and only render the children when Modal</span>\n    <span class=\"token comment\">// is inserted in the DOM tree.</span>\n    modalRoot<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentWillUnmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    modalRoot<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">return</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createPortal</span><span class=\"token punctuation\">(</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Parent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>clicks<span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClick <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleClick</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">handleClick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// This will fire when the button in Child is clicked,</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// updating Parent's state, even though button</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// is not direct descendant in the DOM.</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      clicks<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>clicks <span class=\"token operator\">+</span> <span class=\"token number\">1</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">onClick</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClick<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Number of clicks: </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>clicks<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">          Open up the browser DevTools</span>\n<span class=\"token plain-text\">          to observe that the button</span>\n<span class=\"token plain-text\">          is not a child of the div</span>\n<span class=\"token plain-text\">          with the onClick handler.</span>\n<span class=\"token plain-text\">        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Modal</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">          </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Child</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\"></span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Modal</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">Child</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// The click event on this button will bubble up to parent,</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// because there is no 'onClick' attribute defined</span></span>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>modal<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Click</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Parent</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">,</span> appRoot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":65,"column":1,"offset":2478},"end":{"line":145,"column":4,"offset":4537},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://codepen.io/gaearon/pen/jGBWpE","children":[{"type":"strong","children":[{"type":"text","value":"Try it on CodePen","position":{"start":{"line":147,"column":4,"offset":4542},"end":{"line":147,"column":21,"offset":4559},"indent":[]}}],"position":{"start":{"line":147,"column":2,"offset":4540},"end":{"line":147,"column":23,"offset":4561},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":4539},"end":{"line":147,"column":63,"offset":4601},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}}],"position":{"start":{"line":147,"column":1,"offset":4539},"end":{"line":147,"column":63,"offset":4601},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Catching an event bubbling up from a portal in a parent component allows the development of more flexible abstractions that are not inherently reliant on portals. For example, if you render a ","position":{"start":{"line":149,"column":1,"offset":4603},"end":{"line":149,"column":193,"offset":4795},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">&lt;Modal /&gt;</code>","position":{"start":{"line":149,"column":193,"offset":4795},"end":{"line":149,"column":204,"offset":4806},"indent":[]}},{"type":"text","value":" component, the parent can capture its events regardless of whether it’s implemented using portals.","position":{"start":{"line":149,"column":204,"offset":4806},"end":{"line":149,"column":303,"offset":4905},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":4603},"end":{"line":149,"column":303,"offset":4905},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":150,"column":1,"offset":4906}}}}