{"expireTime":9007200851888154000,"key":"transformer-remark-markdown-ast-afb103ec308c5e7dddb19803a3995090-gatsby-remark-responsive-iframegatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-header-custom-idsgatsby-remark-code-replsgatsby-remark-embed-snippetgatsby-remark-use-jsxgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"heading","depth":3,"children":[{"type":"link","url":"#what-does-setstate-do","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"What does ","position":{"start":{"line":2,"column":5,"offset":5},"end":{"line":2,"column":15,"offset":15},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":2,"column":15,"offset":15},"end":{"line":2,"column":25,"offset":25},"indent":[]}},{"type":"text","value":" do? ","position":{"start":{"line":2,"column":25,"offset":25},"end":{"line":2,"column":54,"offset":54},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":54,"offset":54},"indent":[]},"data":{"id":"what-does-setstate-do","htmlAttributes":{"id":"what-does-setstate-do"},"hProperties":{"id":"what-does-setstate-do"}}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"gatsby-code-text\">setState()</code>","position":{"start":{"line":4,"column":1,"offset":56},"end":{"line":4,"column":13,"offset":68},"indent":[]}},{"type":"text","value":" schedules an update to a component’s ","position":{"start":{"line":4,"column":13,"offset":68},"end":{"line":4,"column":51,"offset":106},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":4,"column":51,"offset":106},"end":{"line":4,"column":58,"offset":113},"indent":[]}},{"type":"text","value":" object. When state changes, the component responds by re-rendering.","position":{"start":{"line":4,"column":58,"offset":113},"end":{"line":4,"column":126,"offset":181},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":56},"end":{"line":4,"column":126,"offset":181},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#what-is-the-difference-between-state-and-props","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"What is the difference between ","position":{"start":{"line":6,"column":5,"offset":187},"end":{"line":6,"column":36,"offset":218},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":6,"column":36,"offset":218},"end":{"line":6,"column":43,"offset":225},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":6,"column":43,"offset":225},"end":{"line":6,"column":48,"offset":230},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">props</code>","position":{"start":{"line":6,"column":48,"offset":230},"end":{"line":6,"column":55,"offset":237},"indent":[]}},{"type":"text","value":"? ","position":{"start":{"line":6,"column":55,"offset":237},"end":{"line":6,"column":106,"offset":288},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":183},"end":{"line":6,"column":106,"offset":288},"indent":[]},"data":{"id":"what-is-the-difference-between-state-and-props","htmlAttributes":{"id":"what-is-the-difference-between-state-and-props"},"hProperties":{"id":"what-is-the-difference-between-state-and-props"}}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"/docs/components-and-props.html","children":[{"type":"html","value":"<code class=\"gatsby-code-text\">props</code>","position":{"start":{"line":8,"column":2,"offset":291},"end":{"line":8,"column":9,"offset":298},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":290},"end":{"line":8,"column":43,"offset":332},"indent":[]}},{"type":"text","value":" (short for “properties”) and ","position":{"start":{"line":8,"column":43,"offset":332},"end":{"line":8,"column":73,"offset":362},"indent":[]}},{"type":"link","title":null,"url":"/docs/state-and-lifecycle.html","children":[{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":8,"column":74,"offset":363},"end":{"line":8,"column":81,"offset":370},"indent":[]}}],"position":{"start":{"line":8,"column":73,"offset":362},"end":{"line":8,"column":114,"offset":403},"indent":[]}},{"type":"text","value":" are both plain JavaScript objects. While both hold information that influences the output of render, they are different in one important way: ","position":{"start":{"line":8,"column":114,"offset":403},"end":{"line":8,"column":257,"offset":546},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">props</code>","position":{"start":{"line":8,"column":257,"offset":546},"end":{"line":8,"column":264,"offset":553},"indent":[]}},{"type":"text","value":" get passed ","position":{"start":{"line":8,"column":264,"offset":553},"end":{"line":8,"column":276,"offset":565},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"to","position":{"start":{"line":8,"column":277,"offset":566},"end":{"line":8,"column":279,"offset":568},"indent":[]}}],"position":{"start":{"line":8,"column":276,"offset":565},"end":{"line":8,"column":280,"offset":569},"indent":[]}},{"type":"text","value":" the component (similar to function parameters) whereas ","position":{"start":{"line":8,"column":280,"offset":569},"end":{"line":8,"column":336,"offset":625},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":8,"column":336,"offset":625},"end":{"line":8,"column":343,"offset":632},"indent":[]}},{"type":"text","value":" is managed ","position":{"start":{"line":8,"column":343,"offset":632},"end":{"line":8,"column":355,"offset":644},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"within","position":{"start":{"line":8,"column":356,"offset":645},"end":{"line":8,"column":362,"offset":651},"indent":[]}}],"position":{"start":{"line":8,"column":355,"offset":644},"end":{"line":8,"column":363,"offset":652},"indent":[]}},{"type":"text","value":" the component (similar to variables declared within a function).","position":{"start":{"line":8,"column":363,"offset":652},"end":{"line":8,"column":428,"offset":717},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":290},"end":{"line":8,"column":428,"offset":717},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here are some good resources for further reading on when to use ","position":{"start":{"line":10,"column":1,"offset":719},"end":{"line":10,"column":65,"offset":783},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">props</code>","position":{"start":{"line":10,"column":65,"offset":783},"end":{"line":10,"column":72,"offset":790},"indent":[]}},{"type":"text","value":" vs ","position":{"start":{"line":10,"column":72,"offset":790},"end":{"line":10,"column":76,"offset":794},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":10,"column":76,"offset":794},"end":{"line":10,"column":83,"offset":801},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":10,"column":83,"offset":801},"end":{"line":10,"column":84,"offset":802},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":719},"end":{"line":10,"column":84,"offset":802},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/uberVU/react-guide/blob/master/props-vs-state.md","children":[{"type":"text","value":"Props vs State","position":{"start":{"line":11,"column":4,"offset":806},"end":{"line":11,"column":18,"offset":820},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":805},"end":{"line":11,"column":88,"offset":890},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}}],"position":{"start":{"line":11,"column":3,"offset":805},"end":{"line":11,"column":88,"offset":890},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":803},"end":{"line":11,"column":88,"offset":890},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://lucybain.com/blog/2016/react-state-vs-pros/","children":[{"type":"text","value":"ReactJS: Props vs. State","position":{"start":{"line":12,"column":4,"offset":894},"end":{"line":12,"column":28,"offset":918},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":893},"end":{"line":12,"column":82,"offset":972},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}}],"position":{"start":{"line":12,"column":3,"offset":893},"end":{"line":12,"column":82,"offset":972},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":891},"end":{"line":12,"column":82,"offset":972},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":803},"end":{"line":12,"column":82,"offset":972},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#why-is-setstate-giving-me-the-wrong-value","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why is ","position":{"start":{"line":14,"column":5,"offset":978},"end":{"line":14,"column":12,"offset":985},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":14,"column":12,"offset":985},"end":{"line":14,"column":22,"offset":995},"indent":[]}},{"type":"text","value":" giving me the wrong value? ","position":{"start":{"line":14,"column":22,"offset":995},"end":{"line":14,"column":94,"offset":1067},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":974},"end":{"line":14,"column":94,"offset":1067},"indent":[]},"data":{"id":"why-is-setstate-giving-me-the-wrong-value","htmlAttributes":{"id":"why-is-setstate-giving-me-the-wrong-value"},"hProperties":{"id":"why-is-setstate-giving-me-the-wrong-value"}}},{"type":"paragraph","children":[{"type":"text","value":"In React, both ","position":{"start":{"line":16,"column":1,"offset":1069},"end":{"line":16,"column":16,"offset":1084},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">this.props</code>","position":{"start":{"line":16,"column":16,"offset":1084},"end":{"line":16,"column":28,"offset":1096},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":16,"column":28,"offset":1096},"end":{"line":16,"column":33,"offset":1101},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">this.state</code>","position":{"start":{"line":16,"column":33,"offset":1101},"end":{"line":16,"column":45,"offset":1113},"indent":[]}},{"type":"text","value":" represent the ","position":{"start":{"line":16,"column":45,"offset":1113},"end":{"line":16,"column":60,"offset":1128},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"rendered","position":{"start":{"line":16,"column":61,"offset":1129},"end":{"line":16,"column":69,"offset":1137},"indent":[]}}],"position":{"start":{"line":16,"column":60,"offset":1128},"end":{"line":16,"column":70,"offset":1138},"indent":[]}},{"type":"text","value":" values, i.e. what’s currently on the screen.","position":{"start":{"line":16,"column":70,"offset":1138},"end":{"line":16,"column":115,"offset":1183},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1069},"end":{"line":16,"column":115,"offset":1183},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Calls to ","position":{"start":{"line":18,"column":1,"offset":1185},"end":{"line":18,"column":10,"offset":1194},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":18,"column":10,"offset":1194},"end":{"line":18,"column":20,"offset":1204},"indent":[]}},{"type":"text","value":" are asynchronous - don’t rely on ","position":{"start":{"line":18,"column":20,"offset":1204},"end":{"line":18,"column":54,"offset":1238},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">this.state</code>","position":{"start":{"line":18,"column":54,"offset":1238},"end":{"line":18,"column":66,"offset":1250},"indent":[]}},{"type":"text","value":" to reflect the new value immediately after calling ","position":{"start":{"line":18,"column":66,"offset":1250},"end":{"line":18,"column":118,"offset":1302},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":18,"column":118,"offset":1302},"end":{"line":18,"column":128,"offset":1312},"indent":[]}},{"type":"text","value":". Pass an updater function instead of an object if you need to compute values based on the current state (see below for details).","position":{"start":{"line":18,"column":128,"offset":1312},"end":{"line":18,"column":257,"offset":1441},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1185},"end":{"line":18,"column":257,"offset":1441},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Example of code that will ","position":{"start":{"line":20,"column":1,"offset":1443},"end":{"line":20,"column":27,"offset":1469},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":20,"column":28,"offset":1470},"end":{"line":20,"column":31,"offset":1473},"indent":[]}}],"position":{"start":{"line":20,"column":27,"offset":1469},"end":{"line":20,"column":32,"offset":1474},"indent":[]}},{"type":"text","value":" behave as expected:","position":{"start":{"line":20,"column":32,"offset":1474},"end":{"line":20,"column":52,"offset":1494},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1443},"end":{"line":20,"column":52,"offset":1494},"indent":[]}},{"type":"html","lang":"jsx","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Note: this will *not* work as intended.</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>count<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">handleSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Let's say `this.state.count` starts at 0.</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// When React re-renders the component, `this.state.count` will be 1, but you expected 3.</span>\n\n  <span class=\"token comment\">// This is because `incrementCount()` function above reads from `this.state.count`,</span>\n  <span class=\"token comment\">// but React doesn't update `this.state.count` until the component is re-rendered.</span>\n  <span class=\"token comment\">// So `incrementCount()` ends up reading `this.state.count` as 0 every time, and sets it to 1.</span>\n\n  <span class=\"token comment\">// The fix is described below!</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":22,"column":1,"offset":1496},"end":{"line":41,"column":4,"offset":2160},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"See below for how to fix this problem.","position":{"start":{"line":43,"column":1,"offset":2162},"end":{"line":43,"column":39,"offset":2200},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":2162},"end":{"line":43,"column":39,"offset":2200},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#how-do-i-update-state-with-values-that-depend-on-the-current-state","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"How do I update state with values that depend on the current state? ","position":{"start":{"line":45,"column":5,"offset":2206},"end":{"line":45,"column":142,"offset":2343},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":2202},"end":{"line":45,"column":142,"offset":2343},"indent":[]},"data":{"id":"how-do-i-update-state-with-values-that-depend-on-the-current-state","htmlAttributes":{"id":"how-do-i-update-state-with-values-that-depend-on-the-current-state"},"hProperties":{"id":"how-do-i-update-state-with-values-that-depend-on-the-current-state"}}},{"type":"paragraph","children":[{"type":"text","value":"Pass a function instead of an object to ","position":{"start":{"line":47,"column":1,"offset":2345},"end":{"line":47,"column":41,"offset":2385},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":47,"column":41,"offset":2385},"end":{"line":47,"column":51,"offset":2395},"indent":[]}},{"type":"text","value":" to ensure the call always uses the most updated version of state (see below). ","position":{"start":{"line":47,"column":51,"offset":2395},"end":{"line":47,"column":130,"offset":2474},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2345},"end":{"line":47,"column":130,"offset":2474},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#what-is-the-difference-between-passing-an-object-or-a-function-in-setstate","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"What is the difference between passing an object or a function in ","position":{"start":{"line":49,"column":5,"offset":2480},"end":{"line":49,"column":71,"offset":2546},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":49,"column":71,"offset":2546},"end":{"line":49,"column":81,"offset":2556},"indent":[]}},{"type":"text","value":"? ","position":{"start":{"line":49,"column":81,"offset":2556},"end":{"line":49,"column":160,"offset":2635},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":2476},"end":{"line":49,"column":160,"offset":2635},"indent":[]},"data":{"id":"what-is-the-difference-between-passing-an-object-or-a-function-in-setstate","htmlAttributes":{"id":"what-is-the-difference-between-passing-an-object-or-a-function-in-setstate"},"hProperties":{"id":"what-is-the-difference-between-passing-an-object-or-a-function-in-setstate"}}},{"type":"paragraph","children":[{"type":"text","value":"Passing an update function allows you to access the current state value inside the updater. Since ","position":{"start":{"line":51,"column":1,"offset":2637},"end":{"line":51,"column":99,"offset":2735},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":51,"column":99,"offset":2735},"end":{"line":51,"column":109,"offset":2745},"indent":[]}},{"type":"text","value":" calls are batched, this lets you chain updates and ensure they build on top of each other instead of conflicting:","position":{"start":{"line":51,"column":109,"offset":2745},"end":{"line":51,"column":223,"offset":2859},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2637},"end":{"line":51,"column":223,"offset":2859},"indent":[]}},{"type":"html","lang":"jsx","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Important: read `state` instead of `this.state` when updating.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>count<span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>count <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">handleSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Let's say `this.state.count` starts at 0.</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">incrementCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// If you read `this.state.count` now, it would still be 0.</span>\n  <span class=\"token comment\">// But when React re-renders the component, it will be 3.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":53,"column":1,"offset":2861},"end":{"line":70,"column":4,"offset":3301},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"/docs/react-component.html#setstate","children":[{"type":"text","value":"Learn more about setState","position":{"start":{"line":72,"column":2,"offset":3304},"end":{"line":72,"column":27,"offset":3329},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":3303},"end":{"line":72,"column":65,"offset":3367},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":3303},"end":{"line":72,"column":65,"offset":3367},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#when-is-setstate-asynchronous","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"When is ","position":{"start":{"line":74,"column":5,"offset":3373},"end":{"line":74,"column":13,"offset":3381},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":74,"column":13,"offset":3381},"end":{"line":74,"column":23,"offset":3391},"indent":[]}},{"type":"text","value":" asynchronous? ","position":{"start":{"line":74,"column":23,"offset":3391},"end":{"line":74,"column":70,"offset":3438},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":3369},"end":{"line":74,"column":70,"offset":3438},"indent":[]},"data":{"id":"when-is-setstate-asynchronous","htmlAttributes":{"id":"when-is-setstate-asynchronous"},"hProperties":{"id":"when-is-setstate-asynchronous"}}},{"type":"paragraph","children":[{"type":"text","value":"Currently, ","position":{"start":{"line":76,"column":1,"offset":3440},"end":{"line":76,"column":12,"offset":3451},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":76,"column":12,"offset":3451},"end":{"line":76,"column":22,"offset":3461},"indent":[]}},{"type":"text","value":" is asynchronous inside event handlers.","position":{"start":{"line":76,"column":22,"offset":3461},"end":{"line":76,"column":61,"offset":3500},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":3440},"end":{"line":76,"column":61,"offset":3500},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This ensures, for example, that if both ","position":{"start":{"line":78,"column":1,"offset":3502},"end":{"line":78,"column":41,"offset":3542},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">Parent</code>","position":{"start":{"line":78,"column":41,"offset":3542},"end":{"line":78,"column":49,"offset":3550},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":78,"column":49,"offset":3550},"end":{"line":78,"column":54,"offset":3555},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">Child</code>","position":{"start":{"line":78,"column":54,"offset":3555},"end":{"line":78,"column":61,"offset":3562},"indent":[]}},{"type":"text","value":" call ","position":{"start":{"line":78,"column":61,"offset":3562},"end":{"line":78,"column":67,"offset":3568},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState</code>","position":{"start":{"line":78,"column":67,"offset":3568},"end":{"line":78,"column":77,"offset":3578},"indent":[]}},{"type":"text","value":" during a click event, ","position":{"start":{"line":78,"column":77,"offset":3578},"end":{"line":78,"column":100,"offset":3601},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">Child</code>","position":{"start":{"line":78,"column":100,"offset":3601},"end":{"line":78,"column":107,"offset":3608},"indent":[]}},{"type":"text","value":" isn’t re-rendered twice. Instead, React “flushes” the state updates at the end of the browser event. This results in significant performance improvements in larger apps.","position":{"start":{"line":78,"column":107,"offset":3608},"end":{"line":78,"column":277,"offset":3778},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3502},"end":{"line":78,"column":277,"offset":3778},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is an implementation detail so avoid relying on it directly. In the future versions, React will batch updates by default in more cases.","position":{"start":{"line":80,"column":1,"offset":3780},"end":{"line":80,"column":141,"offset":3920},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":3780},"end":{"line":80,"column":141,"offset":3920},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#why-doesnt-react-update-thisstate-synchronously","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Why doesn’t React update ","position":{"start":{"line":82,"column":5,"offset":3926},"end":{"line":82,"column":30,"offset":3951},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">this.state</code>","position":{"start":{"line":82,"column":30,"offset":3951},"end":{"line":82,"column":42,"offset":3963},"indent":[]}},{"type":"text","value":" synchronously? ","position":{"start":{"line":82,"column":42,"offset":3963},"end":{"line":82,"column":108,"offset":4029},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":3922},"end":{"line":82,"column":108,"offset":4029},"indent":[]},"data":{"id":"why-doesnt-react-update-thisstate-synchronously","htmlAttributes":{"id":"why-doesnt-react-update-thisstate-synchronously"},"hProperties":{"id":"why-doesnt-react-update-thisstate-synchronously"}}},{"type":"paragraph","children":[{"type":"text","value":"As explained in the previous section, React intentionally “waits” until all components call ","position":{"start":{"line":84,"column":1,"offset":4031},"end":{"line":84,"column":93,"offset":4123},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">setState()</code>","position":{"start":{"line":84,"column":93,"offset":4123},"end":{"line":84,"column":105,"offset":4135},"indent":[]}},{"type":"text","value":" in their event handlers before starting to re-render. This boosts performance by avoiding unnecessary re-renders.","position":{"start":{"line":84,"column":105,"offset":4135},"end":{"line":84,"column":219,"offset":4249},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":4031},"end":{"line":84,"column":219,"offset":4249},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"However, you might still be wondering why React doesn’t just update ","position":{"start":{"line":86,"column":1,"offset":4251},"end":{"line":86,"column":69,"offset":4319},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">this.state</code>","position":{"start":{"line":86,"column":69,"offset":4319},"end":{"line":86,"column":81,"offset":4331},"indent":[]}},{"type":"text","value":" immediately without re-rendering.","position":{"start":{"line":86,"column":81,"offset":4331},"end":{"line":86,"column":115,"offset":4365},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":4251},"end":{"line":86,"column":115,"offset":4365},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are two main reasons:","position":{"start":{"line":88,"column":1,"offset":4367},"end":{"line":88,"column":28,"offset":4394},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":4367},"end":{"line":88,"column":28,"offset":4394},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This would break the consistency between ","position":{"start":{"line":90,"column":3,"offset":4398},"end":{"line":90,"column":44,"offset":4439},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">props</code>","position":{"start":{"line":90,"column":44,"offset":4439},"end":{"line":90,"column":51,"offset":4446},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":90,"column":51,"offset":4446},"end":{"line":90,"column":56,"offset":4451},"indent":[]}},{"type":"html","value":"<code class=\"gatsby-code-text\">state</code>","position":{"start":{"line":90,"column":56,"offset":4451},"end":{"line":90,"column":63,"offset":4458},"indent":[]}},{"type":"text","value":", causing issues that are very hard to debug.","position":{"start":{"line":90,"column":63,"offset":4458},"end":{"line":90,"column":108,"offset":4503},"indent":[]}}],"position":{"start":{"line":90,"column":3,"offset":4398},"end":{"line":90,"column":108,"offset":4503},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":4396},"end":{"line":90,"column":108,"offset":4503},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This would make some of the new features we’re working on impossible to implement.","position":{"start":{"line":91,"column":3,"offset":4506},"end":{"line":91,"column":85,"offset":4588},"indent":[]}}],"position":{"start":{"line":91,"column":3,"offset":4506},"end":{"line":91,"column":85,"offset":4588},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":4504},"end":{"line":91,"column":85,"offset":4588},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":4396},"end":{"line":91,"column":85,"offset":4588},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"This ","position":{"start":{"line":93,"column":1,"offset":4590},"end":{"line":93,"column":6,"offset":4595},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/facebook/react/issues/11527#issuecomment-360199710","children":[{"type":"text","value":"GitHub comment","position":{"start":{"line":93,"column":7,"offset":4596},"end":{"line":93,"column":21,"offset":4610},"indent":[]}}],"position":{"start":{"line":93,"column":6,"offset":4595},"end":{"line":93,"column":93,"offset":4682},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}},{"type":"text","value":" dives deep into the specific examples.","position":{"start":{"line":93,"column":93,"offset":4682},"end":{"line":93,"column":132,"offset":4721},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":4590},"end":{"line":93,"column":132,"offset":4721},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#should-i-use-a-state-management-library-like-redux-or-mobx","title":null,"data":{"hProperties":{"aria-hidden":true,"class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Should I use a state management library like Redux or MobX? ","position":{"start":{"line":95,"column":5,"offset":4727},"end":{"line":95,"column":126,"offset":4848},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":4723},"end":{"line":95,"column":126,"offset":4848},"indent":[]},"data":{"id":"should-i-use-a-state-management-library-like-redux-or-mobx","htmlAttributes":{"id":"should-i-use-a-state-management-library-like-redux-or-mobx"},"hProperties":{"id":"should-i-use-a-state-management-library-like-redux-or-mobx"}}},{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://redux.js.org/faq/general#when-should-i-use-redux","children":[{"type":"text","value":"Maybe.","position":{"start":{"line":97,"column":2,"offset":4851},"end":{"line":97,"column":8,"offset":4857},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":4850},"end":{"line":97,"column":67,"offset":4916},"indent":[]},"data":{"hProperties":{"target":"_blank","rel":"nofollow noopener noreferrer"}}}],"position":{"start":{"line":97,"column":1,"offset":4850},"end":{"line":97,"column":67,"offset":4916},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It’s a good idea to get to know React first, before adding in additional libraries. You can build quite complex applications using only React.","position":{"start":{"line":99,"column":1,"offset":4918},"end":{"line":99,"column":143,"offset":5060},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":4918},"end":{"line":99,"column":143,"offset":5060},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":100,"column":1,"offset":5061}}}}