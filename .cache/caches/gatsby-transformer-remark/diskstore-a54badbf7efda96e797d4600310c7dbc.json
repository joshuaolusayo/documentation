{"expireTime":9007200851888158000,"key":"transformer-remark-markdown-html-ast-f785df540bed2ad5166af486c292d0fc-gatsby-remark-responsive-iframegatsby-remark-imagesgatsby-remark-external-linksgatsby-remark-header-custom-idsgatsby-remark-code-replsgatsby-remark-embed-snippetgatsby-remark-use-jsxgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note:","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":8,"offset":8}}}],"position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":8,"offset":8}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The legacy context API will be removed in a future major version.\nUse the ","position":{"start":{"line":4,"column":3,"offset":13},"end":{"line":5,"column":11,"offset":89}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new context API","position":{"start":{"line":5,"column":12,"offset":90},"end":{"line":5,"column":27,"offset":105}}}],"position":{"start":{"line":5,"column":11,"offset":89},"end":{"line":5,"column":48,"offset":126}}},{"type":"text","value":" introduced with version 16.3.\nThe legacy API will continue working for all 16.x releases.","position":{"start":{"line":5,"column":48,"offset":126},"end":{"line":6,"column":62,"offset":218}}}],"position":{"start":{"line":4,"column":3,"offset":13},"end":{"line":6,"column":62,"offset":218}}},{"type":"text","value":"\n"}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":6,"column":62,"offset":218}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"how-to-use-context"},"children":[{"type":"element","tagName":"a","properties":{"href":"#how-to-use-context","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"How To Use Context ","position":{"start":{"line":8,"column":4,"offset":223},"end":{"line":8,"column":44,"offset":263}}}],"position":{"start":{"line":8,"column":1,"offset":220},"end":{"line":8,"column":44,"offset":263}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section documents a legacy API. See the ","position":{"start":{"line":10,"column":3,"offset":267},"end":{"line":10,"column":48,"offset":312}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new API","position":{"start":{"line":10,"column":49,"offset":313},"end":{"line":10,"column":56,"offset":320}}}],"position":{"start":{"line":10,"column":48,"offset":312},"end":{"line":10,"column":77,"offset":341}}},{"type":"text","value":".","position":{"start":{"line":10,"column":77,"offset":341},"end":{"line":10,"column":78,"offset":342}}}],"position":{"start":{"line":10,"column":3,"offset":267},"end":{"line":10,"column":78,"offset":342}}},{"type":"text","value":"\n"}],"position":{"start":{"line":10,"column":1,"offset":265},"end":{"line":10,"column":78,"offset":342}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Suppose you have a structure like:","position":{"start":{"line":12,"column":1,"offset":344},"end":{"line":12,"column":35,"offset":378}}}],"position":{"start":{"line":12,"column":1,"offset":344},"end":{"line":12,"column":35,"offset":378}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>background<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Message</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">color</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Delete</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MessageList</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> color <span class=\"token operator\">=</span> <span class=\"token string\">\"purple\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Message</span></span> <span class=\"token attr-name\">text</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">color</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>color<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":14,"column":1,"offset":380},"end":{"line":44,"column":4,"offset":998}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In this example, we manually thread through a ","position":{"start":{"line":46,"column":1,"offset":1000},"end":{"line":46,"column":47,"offset":1046}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">color</code>","position":{"start":{"line":46,"column":47,"offset":1046},"end":{"line":46,"column":54,"offset":1053}}},{"type":"text","value":" prop in order to style the ","position":{"start":{"line":46,"column":54,"offset":1053},"end":{"line":46,"column":82,"offset":1081}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Button</code>","position":{"start":{"line":46,"column":82,"offset":1081},"end":{"line":46,"column":90,"offset":1089}}},{"type":"text","value":" and ","position":{"start":{"line":46,"column":90,"offset":1089},"end":{"line":46,"column":95,"offset":1094}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Message</code>","position":{"start":{"line":46,"column":95,"offset":1094},"end":{"line":46,"column":104,"offset":1103}}},{"type":"text","value":" components appropriately. Using context, we can pass this through the tree automatically:","position":{"start":{"line":46,"column":104,"offset":1103},"end":{"line":46,"column":194,"offset":1193}}}],"position":{"start":{"line":46,"column":1,"offset":1000},"end":{"line":46,"column":194,"offset":1193}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Button</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>background<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\"></span>\n<span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\">Button<span class=\"token punctuation\">.</span>contextTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  color<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Message</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token plain-text\">        </span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Delete</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Button</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\"></span></span><span class=\"token plain-text\">      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MessageList</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token function\">getChildContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>color<span class=\"token operator\">:</span> <span class=\"token string\">\"purple\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span></span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> children <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>messages<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Message</span></span> <span class=\"token attr-name\">text</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>message<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\">MessageList<span class=\"token punctuation\">.</span>childContextTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">  color<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span></code></pre></div>","position":{"start":{"line":48,"column":1,"offset":1195},"end":{"line":91,"column":4,"offset":1984}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By adding ","position":{"start":{"line":93,"column":1,"offset":1986},"end":{"line":93,"column":11,"offset":1996}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">childContextTypes</code>","position":{"start":{"line":93,"column":11,"offset":1996},"end":{"line":93,"column":30,"offset":2015}}},{"type":"text","value":" and ","position":{"start":{"line":93,"column":30,"offset":2015},"end":{"line":93,"column":35,"offset":2020}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">getChildContext</code>","position":{"start":{"line":93,"column":35,"offset":2020},"end":{"line":93,"column":52,"offset":2037}}},{"type":"text","value":" to ","position":{"start":{"line":93,"column":52,"offset":2037},"end":{"line":93,"column":56,"offset":2041}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">MessageList</code>","position":{"start":{"line":93,"column":56,"offset":2041},"end":{"line":93,"column":69,"offset":2054}}},{"type":"text","value":" (the context provider), React passes the information down automatically and any component in the subtree (in this case, ","position":{"start":{"line":93,"column":69,"offset":2054},"end":{"line":93,"column":190,"offset":2175}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Button</code>","position":{"start":{"line":93,"column":190,"offset":2175},"end":{"line":93,"column":198,"offset":2183}}},{"type":"text","value":") can access it by defining ","position":{"start":{"line":93,"column":198,"offset":2183},"end":{"line":93,"column":226,"offset":2211}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">contextTypes</code>","position":{"start":{"line":93,"column":226,"offset":2211},"end":{"line":93,"column":240,"offset":2225}}},{"type":"text","value":".","position":{"start":{"line":93,"column":240,"offset":2225},"end":{"line":93,"column":241,"offset":2226}}}],"position":{"start":{"line":93,"column":1,"offset":1986},"end":{"line":93,"column":241,"offset":2226}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ","position":{"start":{"line":95,"column":1,"offset":2228},"end":{"line":95,"column":4,"offset":2231}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">contextTypes</code>","position":{"start":{"line":95,"column":4,"offset":2231},"end":{"line":95,"column":18,"offset":2245}}},{"type":"text","value":" is not defined, then ","position":{"start":{"line":95,"column":18,"offset":2245},"end":{"line":95,"column":40,"offset":2267}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">context</code>","position":{"start":{"line":95,"column":40,"offset":2267},"end":{"line":95,"column":49,"offset":2276}}},{"type":"text","value":" will be an empty object.","position":{"start":{"line":95,"column":49,"offset":2276},"end":{"line":95,"column":74,"offset":2301}}}],"position":{"start":{"line":95,"column":1,"offset":2228},"end":{"line":95,"column":74,"offset":2301}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note:","position":{"start":{"line":97,"column":3,"offset":2305},"end":{"line":97,"column":8,"offset":2310}}}],"position":{"start":{"line":97,"column":3,"offset":2305},"end":{"line":97,"column":8,"offset":2310}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"gatsby-code-text\">React.PropTypes</code>","position":{"start":{"line":99,"column":3,"offset":2315},"end":{"line":99,"column":20,"offset":2332}}},{"type":"text","value":" has moved into a different package since React v15.5. Please use ","position":{"start":{"line":99,"column":20,"offset":2332},"end":{"line":99,"column":86,"offset":2398}}},{"type":"element","tagName":"a","properties":{"href":"https://www.npmjs.com/package/prop-types","target":"_blank","rel":"nofollow noopener noreferrer"},"children":[{"type":"text","value":"the ","position":{"start":{"line":99,"column":87,"offset":2399},"end":{"line":99,"column":91,"offset":2403}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">prop-types</code>","position":{"start":{"line":99,"column":91,"offset":2403},"end":{"line":99,"column":103,"offset":2415}}},{"type":"text","value":" library instead","position":{"start":{"line":99,"column":103,"offset":2415},"end":{"line":99,"column":119,"offset":2431}}}],"position":{"start":{"line":99,"column":86,"offset":2398},"end":{"line":99,"column":162,"offset":2474}}},{"type":"text","value":" to define ","position":{"start":{"line":99,"column":162,"offset":2474},"end":{"line":99,"column":173,"offset":2485}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">contextTypes</code>","position":{"start":{"line":99,"column":173,"offset":2485},"end":{"line":99,"column":187,"offset":2499}}},{"type":"text","value":".","position":{"start":{"line":99,"column":187,"offset":2499},"end":{"line":99,"column":188,"offset":2500}}}],"position":{"start":{"line":99,"column":3,"offset":2315},"end":{"line":99,"column":188,"offset":2500}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We provide ","position":{"start":{"line":101,"column":3,"offset":2505},"end":{"line":101,"column":14,"offset":2516}}},{"type":"element","tagName":"a","properties":{"href":"/blog/2017/04/07/react-v15.5.0.html#migrating-from-react.proptypes"},"children":[{"type":"text","value":"a codemod script","position":{"start":{"line":101,"column":15,"offset":2517},"end":{"line":101,"column":31,"offset":2533}}}],"position":{"start":{"line":101,"column":14,"offset":2516},"end":{"line":101,"column":100,"offset":2602}}},{"type":"text","value":" to automate the conversion.","position":{"start":{"line":101,"column":100,"offset":2602},"end":{"line":101,"column":128,"offset":2630}}}],"position":{"start":{"line":101,"column":3,"offset":2505},"end":{"line":101,"column":128,"offset":2630}}},{"type":"text","value":"\n"}],"position":{"start":{"line":97,"column":1,"offset":2303},"end":{"line":101,"column":128,"offset":2630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"parent-child-coupling"},"children":[{"type":"element","tagName":"a","properties":{"href":"#parent-child-coupling","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Parent-Child Coupling ","position":{"start":{"line":103,"column":5,"offset":2636},"end":{"line":103,"column":51,"offset":2682}}}],"position":{"start":{"line":103,"column":1,"offset":2632},"end":{"line":103,"column":51,"offset":2682}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section documents a legacy API. See the ","position":{"start":{"line":105,"column":3,"offset":2686},"end":{"line":105,"column":48,"offset":2731}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new API","position":{"start":{"line":105,"column":49,"offset":2732},"end":{"line":105,"column":56,"offset":2739}}}],"position":{"start":{"line":105,"column":48,"offset":2731},"end":{"line":105,"column":77,"offset":2760}}},{"type":"text","value":".","position":{"start":{"line":105,"column":77,"offset":2760},"end":{"line":105,"column":78,"offset":2761}}}],"position":{"start":{"line":105,"column":3,"offset":2686},"end":{"line":105,"column":78,"offset":2761}}},{"type":"text","value":"\n"}],"position":{"start":{"line":105,"column":1,"offset":2684},"end":{"line":105,"column":78,"offset":2761}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Context can also let you build an API where parents and children communicate. For example, one library that works this way is ","position":{"start":{"line":107,"column":1,"offset":2763},"end":{"line":107,"column":127,"offset":2889}}},{"type":"element","tagName":"a","properties":{"href":"https://reacttraining.com/react-router","target":"_blank","rel":"nofollow noopener noreferrer"},"children":[{"type":"text","value":"React Router V4","position":{"start":{"line":107,"column":128,"offset":2890},"end":{"line":107,"column":143,"offset":2905}}}],"position":{"start":{"line":107,"column":127,"offset":2889},"end":{"line":107,"column":184,"offset":2946}}},{"type":"text","value":":","position":{"start":{"line":107,"column":184,"offset":2946},"end":{"line":107,"column":185,"offset":2947}}}],"position":{"start":{"line":107,"column":1,"offset":2763},"end":{"line":107,"column":185,"offset":2947}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token keyword\">as</span> Router<span class=\"token punctuation\">,</span> Route<span class=\"token punctuation\">,</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BasicExample</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Home</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/about<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">About</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Link</span></span> <span class=\"token attr-name\">to</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/topics<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Topics</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Link</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hr</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">exact</span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Home<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/about<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>About<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Route</span></span> <span class=\"token attr-name\">path</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/topics<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">component</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>Topics<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":109,"column":1,"offset":2949},"end":{"line":129,"column":4,"offset":3440}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By passing down some information from the ","position":{"start":{"line":131,"column":1,"offset":3442},"end":{"line":131,"column":43,"offset":3484}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Router</code>","position":{"start":{"line":131,"column":43,"offset":3484},"end":{"line":131,"column":51,"offset":3492}}},{"type":"text","value":" component, each ","position":{"start":{"line":131,"column":51,"offset":3492},"end":{"line":131,"column":68,"offset":3509}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Link</code>","position":{"start":{"line":131,"column":68,"offset":3509},"end":{"line":131,"column":74,"offset":3515}}},{"type":"text","value":" and ","position":{"start":{"line":131,"column":74,"offset":3515},"end":{"line":131,"column":79,"offset":3520}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Route</code>","position":{"start":{"line":131,"column":79,"offset":3520},"end":{"line":131,"column":86,"offset":3527}}},{"type":"text","value":" can communicate back to the containing ","position":{"start":{"line":131,"column":86,"offset":3527},"end":{"line":131,"column":126,"offset":3567}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Router</code>","position":{"start":{"line":131,"column":126,"offset":3567},"end":{"line":131,"column":134,"offset":3575}}},{"type":"text","value":".","position":{"start":{"line":131,"column":134,"offset":3575},"end":{"line":131,"column":135,"offset":3576}}}],"position":{"start":{"line":131,"column":1,"offset":3442},"end":{"line":131,"column":135,"offset":3576}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before you build components with an API similar to this, consider if there are cleaner alternatives. For example, you can pass entire React components as props if youâ€™d like to.","position":{"start":{"line":133,"column":1,"offset":3578},"end":{"line":133,"column":178,"offset":3755}}}],"position":{"start":{"line":133,"column":1,"offset":3578},"end":{"line":133,"column":178,"offset":3755}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"referencing-context-in-lifecycle-methods"},"children":[{"type":"element","tagName":"a","properties":{"href":"#referencing-context-in-lifecycle-methods","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Referencing Context in Lifecycle Methods ","position":{"start":{"line":135,"column":5,"offset":3761},"end":{"line":135,"column":89,"offset":3845}}}],"position":{"start":{"line":135,"column":1,"offset":3757},"end":{"line":135,"column":89,"offset":3845}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section documents a legacy API. See the ","position":{"start":{"line":137,"column":3,"offset":3849},"end":{"line":137,"column":48,"offset":3894}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new API","position":{"start":{"line":137,"column":49,"offset":3895},"end":{"line":137,"column":56,"offset":3902}}}],"position":{"start":{"line":137,"column":48,"offset":3894},"end":{"line":137,"column":77,"offset":3923}}},{"type":"text","value":".","position":{"start":{"line":137,"column":77,"offset":3923},"end":{"line":137,"column":78,"offset":3924}}}],"position":{"start":{"line":137,"column":3,"offset":3849},"end":{"line":137,"column":78,"offset":3924}}},{"type":"text","value":"\n"}],"position":{"start":{"line":137,"column":1,"offset":3847},"end":{"line":137,"column":78,"offset":3924}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If ","position":{"start":{"line":139,"column":1,"offset":3926},"end":{"line":139,"column":4,"offset":3929}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">contextTypes</code>","position":{"start":{"line":139,"column":4,"offset":3929},"end":{"line":139,"column":18,"offset":3943}}},{"type":"text","value":" is defined within a component, the following ","position":{"start":{"line":139,"column":18,"offset":3943},"end":{"line":139,"column":64,"offset":3989}}},{"type":"element","tagName":"a","properties":{"href":"/docs/react-component.html#the-component-lifecycle"},"children":[{"type":"text","value":"lifecycle methods","position":{"start":{"line":139,"column":65,"offset":3990},"end":{"line":139,"column":82,"offset":4007}}}],"position":{"start":{"line":139,"column":64,"offset":3989},"end":{"line":139,"column":135,"offset":4060}}},{"type":"text","value":" will receive an additional parameter, the ","position":{"start":{"line":139,"column":135,"offset":4060},"end":{"line":139,"column":178,"offset":4103}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">context</code>","position":{"start":{"line":139,"column":178,"offset":4103},"end":{"line":139,"column":187,"offset":4112}}},{"type":"text","value":" object:","position":{"start":{"line":139,"column":187,"offset":4112},"end":{"line":139,"column":195,"offset":4120}}}],"position":{"start":{"line":139,"column":1,"offset":3926},"end":{"line":139,"column":195,"offset":4120}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/docs/react-component.html#constructor"},"children":[{"type":"raw","value":"<code class=\"gatsby-code-text\">constructor(props, context)</code>","position":{"start":{"line":141,"column":4,"offset":4125},"end":{"line":141,"column":33,"offset":4154}}}],"position":{"start":{"line":141,"column":3,"offset":4124},"end":{"line":141,"column":74,"offset":4195}}}],"position":{"start":{"line":141,"column":1,"offset":4122},"end":{"line":141,"column":74,"offset":4195}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/docs/react-component.html#componentwillreceiveprops"},"children":[{"type":"raw","value":"<code class=\"gatsby-code-text\">componentWillReceiveProps(nextProps, nextContext)</code>","position":{"start":{"line":142,"column":4,"offset":4199},"end":{"line":142,"column":55,"offset":4250}}}],"position":{"start":{"line":142,"column":3,"offset":4198},"end":{"line":142,"column":110,"offset":4305}}}],"position":{"start":{"line":142,"column":1,"offset":4196},"end":{"line":142,"column":110,"offset":4305}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/docs/react-component.html#shouldcomponentupdate"},"children":[{"type":"raw","value":"<code class=\"gatsby-code-text\">shouldComponentUpdate(nextProps, nextState, nextContext)</code>","position":{"start":{"line":143,"column":4,"offset":4309},"end":{"line":143,"column":62,"offset":4367}}}],"position":{"start":{"line":143,"column":3,"offset":4308},"end":{"line":143,"column":113,"offset":4418}}}],"position":{"start":{"line":143,"column":1,"offset":4306},"end":{"line":143,"column":113,"offset":4418}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/docs/react-component.html#componentwillupdate"},"children":[{"type":"raw","value":"<code class=\"gatsby-code-text\">componentWillUpdate(nextProps, nextState, nextContext)</code>","position":{"start":{"line":144,"column":4,"offset":4422},"end":{"line":144,"column":60,"offset":4478}}}],"position":{"start":{"line":144,"column":3,"offset":4421},"end":{"line":144,"column":109,"offset":4527}}}],"position":{"start":{"line":144,"column":1,"offset":4419},"end":{"line":144,"column":109,"offset":4527}}},{"type":"text","value":"\n"}],"position":{"start":{"line":141,"column":1,"offset":4122},"end":{"line":144,"column":109,"offset":4527}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note:","position":{"start":{"line":146,"column":3,"offset":4531},"end":{"line":146,"column":8,"offset":4536}}}],"position":{"start":{"line":146,"column":3,"offset":4531},"end":{"line":146,"column":8,"offset":4536}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As of React 16, ","position":{"start":{"line":148,"column":3,"offset":4541},"end":{"line":148,"column":19,"offset":4557}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">componentDidUpdate</code>","position":{"start":{"line":148,"column":19,"offset":4557},"end":{"line":148,"column":39,"offset":4577}}},{"type":"text","value":" no longer receives ","position":{"start":{"line":148,"column":39,"offset":4577},"end":{"line":148,"column":59,"offset":4597}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">prevContext</code>","position":{"start":{"line":148,"column":59,"offset":4597},"end":{"line":148,"column":72,"offset":4610}}},{"type":"text","value":".","position":{"start":{"line":148,"column":72,"offset":4610},"end":{"line":148,"column":73,"offset":4611}}}],"position":{"start":{"line":148,"column":3,"offset":4541},"end":{"line":148,"column":73,"offset":4611}}},{"type":"text","value":"\n"}],"position":{"start":{"line":146,"column":1,"offset":4529},"end":{"line":148,"column":73,"offset":4611}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"referencing-context-in-stateless-function-components"},"children":[{"type":"element","tagName":"a","properties":{"href":"#referencing-context-in-stateless-function-components","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Referencing Context in Function Components ","position":{"start":{"line":150,"column":5,"offset":4617},"end":{"line":150,"column":103,"offset":4715}}}],"position":{"start":{"line":150,"column":1,"offset":4613},"end":{"line":150,"column":103,"offset":4715}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section documents a legacy API. See the ","position":{"start":{"line":152,"column":3,"offset":4719},"end":{"line":152,"column":48,"offset":4764}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new API","position":{"start":{"line":152,"column":49,"offset":4765},"end":{"line":152,"column":56,"offset":4772}}}],"position":{"start":{"line":152,"column":48,"offset":4764},"end":{"line":152,"column":77,"offset":4793}}},{"type":"text","value":".","position":{"start":{"line":152,"column":77,"offset":4793},"end":{"line":152,"column":78,"offset":4794}}}],"position":{"start":{"line":152,"column":3,"offset":4719},"end":{"line":152,"column":78,"offset":4794}}},{"type":"text","value":"\n"}],"position":{"start":{"line":152,"column":1,"offset":4717},"end":{"line":152,"column":78,"offset":4794}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Function components are also able to reference ","position":{"start":{"line":154,"column":1,"offset":4796},"end":{"line":154,"column":48,"offset":4843}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">context</code>","position":{"start":{"line":154,"column":48,"offset":4843},"end":{"line":154,"column":57,"offset":4852}}},{"type":"text","value":" if ","position":{"start":{"line":154,"column":57,"offset":4852},"end":{"line":154,"column":61,"offset":4856}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">contextTypes</code>","position":{"start":{"line":154,"column":61,"offset":4856},"end":{"line":154,"column":75,"offset":4870}}},{"type":"text","value":" is defined as a property of the function. The following code shows a ","position":{"start":{"line":154,"column":75,"offset":4870},"end":{"line":154,"column":145,"offset":4940}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">Button</code>","position":{"start":{"line":154,"column":145,"offset":4940},"end":{"line":154,"column":153,"offset":4948}}},{"type":"text","value":" component written as a function component.","position":{"start":{"line":154,"column":153,"offset":4948},"end":{"line":154,"column":196,"offset":4991}}}],"position":{"start":{"line":154,"column":1,"offset":4796},"end":{"line":154,"column":196,"offset":4991}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Button</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>background<span class=\"token operator\">:</span> context<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n\nButton<span class=\"token punctuation\">.</span>contextTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>color<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":156,"column":1,"offset":4993},"end":{"line":165,"column":4,"offset":5212}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"updating-context"},"children":[{"type":"element","tagName":"a","properties":{"href":"#updating-context","aria-hidden":true,"class":"anchor"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Updating Context ","position":{"start":{"line":167,"column":5,"offset":5218},"end":{"line":167,"column":41,"offset":5254}}}],"position":{"start":{"line":167,"column":1,"offset":5214},"end":{"line":167,"column":41,"offset":5254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This section documents a legacy API. See the ","position":{"start":{"line":169,"column":3,"offset":5258},"end":{"line":169,"column":48,"offset":5303}}},{"type":"element","tagName":"a","properties":{"href":"/docs/context.html"},"children":[{"type":"text","value":"new API","position":{"start":{"line":169,"column":49,"offset":5304},"end":{"line":169,"column":56,"offset":5311}}}],"position":{"start":{"line":169,"column":48,"offset":5303},"end":{"line":169,"column":77,"offset":5332}}},{"type":"text","value":".","position":{"start":{"line":169,"column":77,"offset":5332},"end":{"line":169,"column":78,"offset":5333}}}],"position":{"start":{"line":169,"column":3,"offset":5258},"end":{"line":169,"column":78,"offset":5333}}},{"type":"text","value":"\n"}],"position":{"start":{"line":169,"column":1,"offset":5256},"end":{"line":169,"column":78,"offset":5333}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Donâ€™t do it.","position":{"start":{"line":171,"column":1,"offset":5335},"end":{"line":171,"column":13,"offset":5347}}}],"position":{"start":{"line":171,"column":1,"offset":5335},"end":{"line":171,"column":13,"offset":5347}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React has an API to update context, but it is fundamentally broken and you should not use it.","position":{"start":{"line":173,"column":1,"offset":5349},"end":{"line":173,"column":94,"offset":5442}}}],"position":{"start":{"line":173,"column":1,"offset":5349},"end":{"line":173,"column":94,"offset":5442}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":175,"column":1,"offset":5444},"end":{"line":175,"column":5,"offset":5448}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">getChildContext</code>","position":{"start":{"line":175,"column":5,"offset":5448},"end":{"line":175,"column":22,"offset":5465}}},{"type":"text","value":" function will be called when the state or props changes. In order to update data in the context, trigger a local state update with ","position":{"start":{"line":175,"column":22,"offset":5465},"end":{"line":175,"column":154,"offset":5597}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">this.setState</code>","position":{"start":{"line":175,"column":154,"offset":5597},"end":{"line":175,"column":169,"offset":5612}}},{"type":"text","value":". This will trigger a new context and changes will be received by the children.","position":{"start":{"line":175,"column":169,"offset":5612},"end":{"line":175,"column":248,"offset":5691}}}],"position":{"start":{"line":175,"column":1,"offset":5444},"end":{"line":175,"column":248,"offset":5691}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">'prop-types'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MediaQuery</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>type<span class=\"token operator\">:</span><span class=\"token string\">'desktop'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">getChildContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>type<span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">checkMediaQuery</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> type <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">matchMedia</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"(min-width: 1025px)\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>matches <span class=\"token operator\">?</span> <span class=\"token string\">'desktop'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'mobile'</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">!==</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> checkMediaQuery<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">checkMediaQuery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nMediaQuery<span class=\"token punctuation\">.</span>childContextTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":177,"column":1,"offset":5693},"end":{"line":210,"column":4,"offset":6368}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The problem is, if a context value provided by component changes, descendants that use that value wonâ€™t update if an intermediate parent returns ","position":{"start":{"line":212,"column":1,"offset":6370},"end":{"line":212,"column":146,"offset":6515}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">false</code>","position":{"start":{"line":212,"column":146,"offset":6515},"end":{"line":212,"column":153,"offset":6522}}},{"type":"text","value":" from ","position":{"start":{"line":212,"column":153,"offset":6522},"end":{"line":212,"column":159,"offset":6528}}},{"type":"raw","value":"<code class=\"gatsby-code-text\">shouldComponentUpdate</code>","position":{"start":{"line":212,"column":159,"offset":6528},"end":{"line":212,"column":182,"offset":6551}}},{"type":"text","value":". This is totally out of control of the components using context, so thereâ€™s basically no way to reliably update the context. ","position":{"start":{"line":212,"column":182,"offset":6551},"end":{"line":212,"column":308,"offset":6677}}},{"type":"element","tagName":"a","properties":{"href":"https://medium.com/@mweststrate/how-to-safely-use-react-context-b7e343eff076","target":"_blank","rel":"nofollow noopener noreferrer"},"children":[{"type":"text","value":"This blog post","position":{"start":{"line":212,"column":309,"offset":6678},"end":{"line":212,"column":323,"offset":6692}}}],"position":{"start":{"line":212,"column":308,"offset":6677},"end":{"line":212,"column":402,"offset":6771}}},{"type":"text","value":" has a good explanation of why this is a problem and how you might get around it.","position":{"start":{"line":212,"column":402,"offset":6771},"end":{"line":212,"column":483,"offset":6852}}}],"position":{"start":{"line":212,"column":1,"offset":6370},"end":{"line":212,"column":483,"offset":6852}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":213,"column":1,"offset":6853}}}}